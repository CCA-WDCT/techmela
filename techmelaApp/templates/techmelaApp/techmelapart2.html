{% load static %}
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>TechMela</title>

    <link rel="icon" type="image/png" href="{% static 'techmelaApp/img/final-logo.png' %}">
    <link href='https://fonts.googleapis.com/css?family=Aclonica' rel='stylesheet'>


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">

    <script src="https://kit.fontawesome.com/c3db3ba7c7.js" crossorigin="anonymous"></script>
    <link href='https://fonts.googleapis.com/css?family=Varela' rel='stylesheet' type='text/css'>


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">

 

</head>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap');
    html,
body {
    padding: 0px;
    margin: 0px;
    width: 100%;
    height: 100%;
    position: fixed;
}

body {
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-pack: center;
    -webkit-justify-content: center;
    -ms-flex-pack: center;
    justify-content: center;
    -webkit-box-align: center;
    -webkit-align-items: center;
    -ms-flex-align: center;
    align-items: center;
    -webkit-filter: contrast(120%);
    filter: contrast(120%);
    background-color: black;
}
  









.container2 {
    width: 100%;
    height: 100%;
    background-image: radial-gradient(1600px at 70% 120%, rgba(33, 39, 80, 1) 10%, #020409 100%);

}



#universe {
    width: 100%;
    height: 100%;
}

#footerContent {
    font-family: sans-serif;
    font-size: 110%;
    color: rgba(200, 220, 255, .3);
    width: 100%;
    position: fixed;
    bottom: 0px;
    padding: 20px;
    text-align: center;
    z-index: 20;
}

#footer {
    position: absolute;
    bottom: 0px;
    height: 300px;
    width: 100%;
}

#scene {
    height: 100%;
    position: absolute;
    left: 50%;
    margin-left: -800px;
}



/*-----------------------------音乐-------------------------------------*/

.play {
    animation: rotate 1.2s linear infinite;
    -webkit-animation: rotate 1.2s linear infinite
}



@keyframes rotate {
    0% {
        transform: rotate(0)
    }
    100% {
        transform: rotate(360deg)
    }
}

@-webkit-keyframes rotate {
    0% {
        -webkit-transform: rotate(0)
    }
    100% {
        -webkit-transform: rotate(360deg)
    }
}


/*box*/

#box {
    color: #fff;
    position: absolute;
    bottom: 30%;
    left: 50%;
    margin-left: -96px;
    z-index: 100;
    transform: rotate(-12deg);
    -webkit-transform: rotate(-12deg);
    font-size: 12px;
}

.txt {
    color: hsla(0, 0%, 0%, 0);
    text-shadow: #fff 0 0 10px;
    transition: text-shadow 2s cubic-bezier(0, 1, 0, 1);
}

@-moz-document url-prefix() {
    .txt {
        text-shadow: #fff 0 0 20px;
    }
}


/* FF fix */

.fadeInUp {
    -webkit-animation: fadeInUp 3s .2s ease both;
    -moz-animation: fadeInUp 3s .2s ease both;
}

@-webkit-keyframes fadeInUp {
    0% {
        opacity: 0;
        -webkit-transform: translateY(100px)
    }
    100% {
        opacity: 1;
        -webkit-transform: translateY(0)
    }
}

@-moz-keyframes fadeInUp {
    0% {
        opacity: 0;
        -moz-transform: translateY(100px)
    }
    100% {
        opacity: 1;
        -moz-transform: translateY(0)
    }
}


#canvas{

    margin:auto;
}

.nav-item > .active {
    background-color: #F7413E !important;
}

.detailsButton {
    z-index: 99999999;
}

.prjVideo {
    width: 35vw;
    height: 40vh;
}

.sectionHeading {
    font-size: 3rem;
    font-family: "Roboto";
    margin-top: 3%;
    margin-bottom: 4%;
    color: white;
}

.mainHeading {
    font-size: 4rem;
    font-family: "Roboto";
    margin-top: 3%;
    margin-bottom: 1%;
}

.techmelaTitleImg {
    width: 20vw;
    height: auto;
    margin-left: 0;
}

.mainSubheading {
    font-size: 2rem;
    margin-bottom: 2%;
    font-weight: bold;
    color: white;
}

.nav-link {
    font-size: 1.5rem;
    font-family: "Roboto";
    color: black;
    background-color:chocolate !important;
    margin-left: 1vw;
    margin-right: 1vw;
}

#pills-tab {
    margin-left: 26vw;
}

.footerInfo {
    color: white;
    text-align: center;
    padding-bottom: 1%;
    padding-top: 5%;
    font-size: 25px;
}

.footerWdctLogo {
    height: 70px;
    width: 70px;
    float: right;
    margin-right: 1vw;
}

.footerWdctText {
    font-size: 13px;
}

#likeButton {
    color: red;
    font-size: 3rem;
    cursor: pointer;
}

#likeButton:hover {
    transform: scale(1.5);
}

@media only screen and (max-width: 600px) {
    .prjVideo {
        width: 80vw;
        height: auto;
        margin-bottom: 10%;
    }

    .nav-link {
        font-size: 1rem;
        margin-top: 1vh;
    }

    #pills-tab {
        margin-left: unset;
    }

    .mainSubheading {
        font-size: 1rem;
    }

    .techmelaTitleImg {
        width: 60vw;
        height: auto;
        margin-left: unset;
    }

    .sectionHeading {
        font-size: 2rem;
    }

    .footerWdctLogo {
        height: 50px;
        width: 50px;
    }

    .footerWdctText {
        font-size: 10px;
    }
    .line{
        left: -40vw!important;
    }
    .line .head4 {
        font: 500 1em  'Courier New', Courier, monospace!important;
font-size: 60px!important;
margin-top: 10vh!important;
margin-left: 19vw!important;
   left:auto!important;
      right: auto!important;


}
.mob2{
  
    margin-top: 23vh!important;
    margin-left: 3vw!important;
}
.headingae{
    opacity: 1;
    color: white;
    margin-bottom: 0!important;
    margin-left: 0vw!important;
    padding: 0;
    margin-top: 20vh!important;
}
    .nav{
        left: 0!important;
        margin-top: -5vh!important;
        margin-left: 30px!important;
    }
    .zone{
        margin-top:0vh!important;
        padding-left: 5vw!important;
    }
    .mob2{
      position: absolute;
      left:auto!important;
      right: auto!important;
      top: 1vh !important;
    }
   .mobile{
    padding-left: 10vw!important;

   }
   .mobile2{
    margin-top: 10vh;
    margin-left: -10vh;
   }
   .contbox{
    padding-left: 10vw!important;

   }
   .icon1{
       left: 10vw!important;
       right:auto!important;
       margin: 0 !important;
       margin-top: 0vh!important;
       padding: 0!important;
   }
  .icon2{
       left: 30vw!important;
       right:auto!important;
       margin: 0 !important;
       margin-top: 0vh!important;
       padding: 0!important;
   }
   .icon3{
       left: 60vw!important;
       right:auto!important;
       margin: 0 !important;
       margin-top: 1vh!important;
       padding: 0!important;
       width: 70px!important;
       height: 25px!important;
   }
   .mob{
       margin-left: -10vw;
   }
}

@media only screen and (max-width: 800px) {
    #pills-tab {
        margin-left: unset;
    }
}


:root {
    --d: 700ms;
    --e: cubic-bezier(0.19, 1, 0.22, 1);
    --font-sans: "Roboto";
    --font-serif: "Roboto";
}



.page-content {
    display: grid;
    grid-gap: 1rem;
    padding: 1rem;
    max-width: 1024px;
    margin-left: -2%;
    font-family: var(--font-sans);
}

@media (min-width: 600px) {
    .page-content {
        grid-template-columns: repeat(3, 1fr);
    }
}

@media (min-width: 800px) {
    .page-content {
        grid-template-columns: repeat(4, 1fr);
    }
}

 /* width */        
 ::-webkit-scrollbar {
            width: 0px;
        }
  
        /* Track */
        ::-webkit-scrollbar-track {
            background:transparent;
        }
  
        /* Handle */
        ::-webkit-scrollbar-thumb {
            background:transparent
        }
  
        /* Handle on hover */
        ::-webkit-scrollbar-thumb:hover {
            background: transparent
        }
          
        .scroll {
            display: block;
            border: 0px solid red;
            margin-left: 5vw;
            padding: 5px;
            margin-top: 5px;
            width: 100%;
            height: 300px;
            overflow-y: scroll;
           
        }

.line {
	 text-transform: uppercase;
	 letter-spacing: 0.5em;
	 display: inline-block;
	 border-width: 4px 0;
	 padding: 1.5em 0em;
	 position: absolute;
     
	 top: 0vh;
	 left: 28vw;
	 width: 40em;

}
 .line .head4 {
	 font: 700 4em  'Courier New', Courier, monospace;
	 letter-spacing: 0;
     color: #f1f1f1;
	 padding: 0.25em 0 0.325em;
	 display: block;
	 margin: 0 auto;
	 text-shadow: 0 0 80px rgba(255, 255, 255, .5);
	/* Clip Background Image */
	 background: url(https://i.ibb.co/RDTnNrT/animated-text-fill.png) repeat-y;
	 -webkit-background-clip: text;
	 background-clip: text;
	/* Animate Background Image */
	 -webkit-text-fill-color: transparent;
	 -webkit-animation: aitf 80s linear infinite;
	/* Activate hardware acceleration for smoother animations */
	 -webkit-transform: translate3d(0, 0, 0);
	 -webkit-backface-visibility: hidden;
}
/* Animate Background Image */
 @-webkit-keyframes aitf {
	 0% {
		 background-position: 0% 50%;
	}
	 100% {
		 background-position: 100% 50%;
	}
}
 



</style>
<body>
    <button id="launchModal" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal"
    style="display: none;">
Launch demo modal
</button>

<!-- Modal -->
<div class="modal fade modal-fullscreen-sm-down" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
 aria-hidden="true">
<div class="modal-dialog modal-xl" ">
    <div class="modal-content" style="background-color: #020409;color: #f1f1f1;">
        <div class="modal-header">
            <h5 class="modal-title container-fluid modalPrjTitle" id="exampleModalLabel"
                style="text-align: center;font-weight: bold; font-size: 20px;">Project title</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close" style="color: #f1f1f1;"></button>
        </div>
        <div class="modal-body">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-5">
                        <!--  video-->
                        <div class="projectVideo">
                            <iframe id="modalPrjVideo" class="prjVideo" style="height: 30vh;"
                                    src="">
                            </iframe>
                            <iframe id="modalPrjPdf" class="prjVideo" style="height: 30vh;"
                                    src="">
                            </iframe>
                        </div>
                    </div>
                    <div class="col-md-2"></div>
                    <div class="col-md-5">
                        {% if user.is_judge %}
                            <a id="judgeModalAnchor" onclick="giveScores()"
                               style=" text-decoration: none; cursor: pointer;">
                                <div style=" margin-top: 2vh;margin-bottom: 10%;">
                                    <div style="display: inline; color: white;margin-top: 10px; margin-left:10px;background-color:chocolate;padding: 20px;">
                                        GIVE SCORES
                                    </div>
                                </div>
                            </a>
                        {% endif %}
                        <!--  desc-->
                        <p id="modalPrjDesc">Project Description</p>

                        <a id="pdfDownloadAnchor" target="_blank" href="#" style=" text-decoration: none;">
                            <div style=" margin-top: 2vh;">
                                <i style="font-size: 2rem; color: red;" class="far fa-file-pdf"></i>
                                <div style="display: inline; color: dodgerblue;margin-top: 10px; margin-left:10px;position: absolute;">
                                    Download full details of the project
                                </div>
                            </div>
                        </a>


                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
    </div>
</div>
</div>

{% if user.is_judge %}
<button id="launchModal2" type="button" class="btn btn-primary" data-bs-toggle="modal"
        data-bs-target="#exampleModal2"
        style="display: none;">
    Launch demo modal
</button>

<!-- Modal -->
<div class="modal fade modal-fullscreen-sm-down" id="exampleModal2" tabindex="-1"
     aria-labelledby="exampleModalLabel2"
     aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content" style="background-color: #020409;">
            <div class="modal-header">
                <h5 class="modal-title container-fluid modalPrjTitle" id="exampleModalLabel2"
                    style="text-align: center;font-weight: bold; font-size: 20px; color: #f1f1f1;">Give Score</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-2"></div>
                        <div class="col-md-8" style="padding: 10px;">
                            <div class="scoreCriteria" style="color: #f1f1f1;">
                                Judging Criteria:
                            </div>
                            <div class="scorePoints" style="color: #f1f1f1;">
                                1. Presentation
                            </div>
                            <div class="scorePoints" style="color: #f1f1f1;">
                                2. Creativity
                            </div>
                            <div class="scorePoints" style="color: #f1f1f1;">
                                3. Execution
                            </div>
                            <div class="scorePoints" style="color: #f1f1f1;">
                                4. Design and Methodology
                            </div>
                            <div class="scorePoints" style="color: #f1f1f1;">
                                5. Social Benefits of project
                            </div>
                            <div class="scorePoints " style="color: #f1f1f1;">
                                6. Marketing possibility
                            </div>
                        </div>
                        <div class="col-md-2"></div>
                    </div>
                    <div class="row">
                        <div class="col-md-2"></div>
                        <div class="col-md-8" style="text-align: center;">
                            <div class="form-group c " style="color: #f1f1f1;padding: 10px;">
                                <label for="inputScore"
                                       style="margin-bottom: 1vh;margin-top: 1vh;font-size: 15px;text-align: center;">Score
                                    out of 10</label>
                                <input style="text-align: center; padding: 10px;" type="number"
                                       class="form-control" id="inputScore" name="score"
                                       aria-describedby="emailHelp"
                                       placeholder="Enter Score out of 10" max="10" required>
                                <input style="text-align: center; padding: 10px;display: none;" type="text"
                                       class="form-control" id="inputPrjID" name="prjID"
                                       aria-describedby="emailHelp"
                                       placeholder="project ID" required>
                            </div>
                            <button onclick="markProjectScores()" class="btn btn-danger"
                                    style="background-color: #F7413E;margin-bottom: 3vh;">Submit Score
                            </button>
                            <div id="scoreSubmitSuccessMsg" style="color: dodgerblue;display: none;">Scores
                                submitted successfully.
                            </div>
                            <div id="scoreAlreadySubmittedMsg" style="color: red;display: none;">Scores already
                                submitted.
                            </div>
                        </div>
                        <div class="col-md-2"></div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
{% endif %}

    <div class="container2">
        <div class="content">    
            
          
            <canvas id="universe" ></canvas>
          
      

        
<div class="container-fluid mobile" style="position:fixed;z-index: 999;top:0vh;overflow-y: scroll;height: 100vh;width: 100%;overflow-x: hidden;">
      
      <div class="mobile2" style="display: flex;
      justify-content: center;">
            <div style="margin-left: 0vw;text-align: center;">
      <p class="line">

        <span class="head4">
          TECHMELA
        </span>
      
      </p>
    <h5 class="mainSubheading headingae" style="text-align: center;color:rgb(245, 242, 239) ;margin-top: 20vh;">Aarohan 2022 presents TechMela</h5>
<div style="display: flex;flex-direction: column;text-align: center;margin-left: 5vw;width: 100vw;">


        <ul class="nav nav-pills  zone" id="pills-tab" role="tablist" style="margin-left: 29vw;">
        <li class="nav-item" role="presentation">
          
                <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home"
                    type="button" role="tab" aria-controls="pills-home" aria-selected="true">Software
            </button>
  
            
        </li>
        <li class="nav-item" role="presentation">
          
                 <button class="nav-link" id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-profile"
                    type="button" role="tab" aria-controls="pills-profile" aria-selected="false">Hardware
            </button>
    
           
        </li>
        <li class="nav-item" role="presentation">
   
                <button class="nav-link" id="pills-contact-tab" data-bs-toggle="pill" data-bs-target="#pills-contact"
                    type="button" role="tab" aria-controls="pills-contact" aria-selected="false">Research Corner
            </button>

            
        </li>
    </ul>
    <div class="tab-content contbox" id="pills-tabContent"   >

        <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
        

            <div class="container-fluid">
                <div class="row">
                    <div class="col"></div>
                    <div class="col-md-10">
                        <div class="page-content">
                            {% for project in allProjects %}
                                {% if project.category == '1' %}
                                <div class="card" style="width: 18rem;background-color: transparent;">
                                    <img src="https://techmela.arhn.co.in/media/{{ project.image }}" class="card-img-top" alt="..." style="width: 100%;height:150px;">
                                    <div class="card-body" style="width:100%;padding: 10px;margin:1px;text-align: center;height: auto;padding: 0;">
                                        <div style="display: flex;padding: 10px;">
                                            <div style="text-align: left;margin-left:0px;">
                                                    <h5 class="card-title" style="text-align: left;color: #f1f1f1;" >{{ project.title }}</h5>
                                                    
      </div>
                                        
                                            <div style="text-align: right;position:absolute;right: 2px;">
                                                {% if user.is_authenticated %}

                                         <input style="text-align: center; padding: 10px;display: none;"
                                                type="text"
                                                class="form-control" id="inputPrjIDLike" name="prjIDLike"
                                                value="{{ project.id }}"
                                                aria-describedby="emailHelp"
                                                placeholder="project ID" required>

                                         <a
                                                 onclick="likePressed('{{ project.id }}', '{{ project.likes }}')">
                                             <i id="likeButton"
                                                class="fas fa-heart" style="font-size: 25px;"></i>
                                                <span
                                                 id="numberOfLikes{{ project.id }}" style="color: #f1f1f1;">{{ project.likes }}</span></a>

                                     {% endif %}
                                         </div>
                                         
                                        </div>
                                    
                                 
                                        <div>
                                         <button onclick="showDetails('{{ project.id }}' ,'{{ project.title }}','{{ project.mainDescription }}','{{ project.videoLink }}','{{ project.pdfLink }}')"
                                      class="btn detailsButton" style="background-color: chocolate;">Show Details
                              </button>     

                                        </div>
                                       

                                      </div>
                                    
                                   
                                  
                                  </div>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                    <div class="col"></div>
                </div>
            </div>

        </div>


        <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">
        

            <div class="container-fluid">
                <div class="row">
                    <div class="col"></div>
                    <div class="col-md-10">
                        <div class="page-content">
                            {% for project in allProjects %}
                                {% if project.category == '2' %}
                                <div class="card" style="width: 18rem;background-color: transparent;">
                                    <img src="https://techmela.arhn.co.in/media/{{ project.image }}" class="card-img-top" alt="..." style="width: 100%;height:150px;">
                                    <div class="card-body" style="width:100%;padding: 10px;margin:1px;text-align: center;height: auto;padding: 0;">
                                        <div style="display: flex;padding: 10px;">
                                            <div style="text-align: left;margin-left:0px;">
                                                    <h5 class="card-title" style="text-align: left;color: #f1f1f1;" >{{ project.title }}</h5>
                                                    
      </div>
                                        
                                            <div style="text-align: right;position:absolute;right: 2px;">
                                                {% if user.is_authenticated %}

                                         <input style="text-align: center; padding: 10px;display: none;"
                                                type="text"
                                                class="form-control" id="inputPrjIDLike" name="prjIDLike"
                                                value="{{ project.id }}"
                                                aria-describedby="emailHelp"
                                                placeholder="project ID" required>

                                         <a
                                                 onclick="likePressed('{{ project.id }}', '{{ project.likes }}')">
                                             <i id="likeButton"
                                                class="fas fa-heart" style="font-size: 25px;"></i>
                                                <span
                                                 id="numberOfLikes{{ project.id }}" style="color: #f1f1f1;">{{ project.likes }}</span></a>

                                     {% endif %}
                                         </div>
                                         
                                        </div>
                                    
                                 
                                        <div>
                                         <button onclick="showDetails('{{ project.id }}' ,'{{ project.title }}','{{ project.mainDescription }}','{{ project.videoLink }}','{{ project.pdfLink }}')"
                                      class="btn detailsButton" style="background-color: chocolate;">Show Details
                              </button>     

                                        </div>
                                       

                                      </div>
                                    
                                   
                                  
                                  </div>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                    <div class="col"></div>
                </div>
            </div>
        </div>


        <div class="tab-pane fade" id="pills-contact" role="tabpanel" aria-labelledby="pills-contact-tab">
         

            <div class="container-fluid">
                <div class="row">
                    <div class="col"></div>
                    <div class="col-md-10">
                        <div class="page-content">
                            {% for project in allProjects %}
                                {% if project.category == '3' %}
                                <div class="card" style="width: 18rem;background-color: transparent;">
                                    <img src="https://techmela.arhn.co.in/media/{{ project.image }}" class="card-img-top" alt="..." style="width: 100%;height:150px;">
                                    <div class="card-body" style="width:100%;padding: 10px;margin:1px;text-align: center;height: auto;padding: 0;">
                                        <div style="display: flex;padding: 10px;">
                                            <div style="text-align: left;margin-left:0px;">
                                                    <h5 class="card-title" style="text-align: left;color: #f1f1f1;" >{{ project.title }}</h5>
                                                    
      </div>
                                        
                                            <div style="text-align: right;position:absolute;right: 2px;">
                                                {% if user.is_authenticated %}

                                         <input style="text-align: center; padding: 10px;display: none;"
                                                type="text"
                                                class="form-control" id="inputPrjIDLike" name="prjIDLike"
                                                value="{{ project.id }}"
                                                aria-describedby="emailHelp"
                                                placeholder="project ID" required>

                                         <a
                                                 onclick="likePressed('{{ project.id }}', '{{ project.likes }}')">
                                             <i id="likeButton"
                                                class="fas fa-heart" style="font-size: 25px;"></i>
                                                <span
                                                 id="numberOfLikes{{ project.id }}" style="color: #f1f1f1;">{{ project.likes }}</span></a>

                                     {% endif %}
                                         </div>
                                         
                                        </div>
                                    
                                 
                                        <div>
                                         <button onclick="showDetails('{{ project.id }}' ,'{{ project.title }}','{{ project.mainDescription }}','{{ project.videoLink }}','{{ project.pdfLink }}')"
                                      class="btn detailsButton" style="background-color: chocolate;">Show Details
                              </button>     

                                        </div>
                                       

                                      </div>
                                   
                                  
                                  </div>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                    <div class="col"></div>
                </div>
            </div>
        </div>

    </div>


</div>

  </div>
      </div>          

    

  
    <div class=" mob">
      
              
                
                        <a href="/" style="text-decoration: none;color: white;position: absolute;top:0px;">
                          <img class="icon1" style="height: 70px; width: 70px; position: absolute;left: 0;top: 10px;"
                                                       src="{% static 'techmelaApp/img/final-logo.png' %}" alt="aarohan-logo"/>
                        </a>
                        <a href="/" style="text-decoration: none;color: white;position: absolute;top:0px;">
                            <img class="icon2" style="height: 50px; width: 90px; position: absolute;left: 90px;top: 20px;"
                                                         src="{% static 'techmelaApp/img/digital_india8.png' %}" alt="aarohan-logo"/>
                          </a>
                 
                                           <a href="/" style="text-decoration: none;color: white;position: absolute;top:0px;">
                                            <img class="icon3" style="height: 40px; width: 130px; position: absolute;left: 190px ;top: 20px;" src="{% static 'techmelaApp/img/Full_White.png' %}" alt="lapkafe-logo" />
                                                  </a>
                   
               
    </div>

    <div class="container mob2" style="text-decoration: none;color: white;position: absolute;top:20px;left: 85vw;z-index: 999;">
        {% if user.is_authenticated %}
        <div style="text-align: center;margin-bottom: 2%;display: flex;padding: 10px;">
            <a  style="text-decoration: none;">
                <h3 >Welcome!! {{ user.username }}</h3> 
            </a>
            <a href="{% url 'logout' %}" style="text-decoration: none;padding-left: 10px;color: rgb(171, 211, 211);">
                <h3   > Log Out
                </h3>
            </a>
        </div>
   
    {% else %}
    <div style="text-align: center;margin-bottom: 2%;display: flex;padding-left: 40px;padding-top: 10px;">
        <a href="{% url 'signup' %}" style="text-decoration: none;color: rgb(171, 211, 211);">
            <h3 style="margin-right:2vw;"  > Sign Up 
            </h3>
        </a>
        <a href="{% url 'login' %}" style="text-decoration: none;padding-left: 10px;color: aqua;">
            <h3   > Log In
            </h3>
        </a>
    </div>
       
    {% endif %}
    </div>





          </div>

          
      





            <div id="footer" class="fadeInUp">
                <svg id="scene" x="0px" y="0px" width="1600px" height="315px">
                    <path id="ground" d="M0,316.4209c0,0,157.7119-35.416,469-56c7.3833-0.4883,23.7876-3.5488,31.3335-4.0166
                  c3.7681-0.2334,19.4302,0.9424,28.3335,0.3506c17.1494-1.1396,30.9072-4.2734,38.333-4.6836
                  c7.5972-0.4189,18.4058,0.3799,27.6665-0.9834c5.7075-0.8408,10.1318-4.042,14.9248-4.2705
                  c7.8369-0.373,24.5693,3.6084,34.4087,4.2705c11.0586,0.7432,15.2656-1.8135,24.3335-2.1523c10.0576-0.376,20.4629,1.3867,28.6665,0
                  c3.5957-0.6074,4.4194,0.4209,7.7227-0.7715c1.4927-0.5391,5.8179-3.5693,6.9438-4.2432c3.8335,0.667,6.1426-1.0732,9.917-1.167
                  c2.2739-0.0566,3.9673-0.9072,6.249-0.9609c2.2725-0.0537,5.5547-1.2383,7.8345-1.2881c2.25-0.0498,3.498,1.0352,5.7554,0.9883
                  c2.9648-0.0615,7.9341,0.3164,10.9111,0.2607c2.2461-0.042,2.4976-0.5195,4.7505-0.5586c2.9663-0.0518,2.1045-0.5615,5.0825-0.6074
                  c1.5811-0.0244,6.9976,0.4131,8.582,0.3896c0.8887-0.0127,2.6113,0.373,3.5015,0.3604c1.5527-0.0215,2.2739-0.4404,3.8296-0.4609
                  c1.416-0.0186,2.0854-0.8555,3.5039-0.873c1.0835-0.0127,2.9155,0.7939,4.0005,0.7813c1.1104-0.0127,3.5542,0.4805,4.666,0.4688
                  c1.3047-0.0137,1.2773-0.5332,2.584-0.5459c1.415-0.0137,1.165-0.4414,2.5825-0.4541c0.916-0.0078,3.499,0.3984,4.416,0.3906
                  c1.499-0.0127,1.833,0.6221,3.3345,0.6104c1.3296-0.0098,3.8267-0.666,5.1587-0.6748c1.3335-0.0088,2.8389-0.6514,4.1743-0.6592
                  c1.3335-0.0078,2.4971,0.6191,3.8325,0.6123c2.5518-0.0127,7.3579,0.3965,9.9175,0.3877c5.3169-0.0176,5.5796-0.4063,10.9297-0.4063
                  c1.8379,0,6.7031,1.3184,8.3203,1.2402c2.1055-0.1016,3.7139-1.6572,5.5283-1.7969c3.9541-0.3037,7.3262-0.5732,10.5986-0.2598
                  c6.248,0.5977,12.1973-0.8125,21.207-0.7539c1.7266,0.0107,15.7813,3.085,17.5,3.0977c3.4014,0.0254,6.6191-1.3398,9.9971-1.3066
                  c4.1221,0.041,8.2275,1.2529,12.3369,1.3066c2.0752,0.0273,4.1543-1.1084,6.2314-1.0771c3.3662,0.0498,4.5547,1.0166,7.9346,1.0771
                  c2.1104,0.0381,6.4063-0.834,8.5264-0.792c2.7021,0.0537,4.4766-1.6729,7.2002-1.6113c2.9277,0.0654,7.6465,3.1641,10.6074,3.2393
                  c4.8359,0.123,8.8809-0.9854,13.832-0.8359c2.5029,0.0752,11.8818,2.0498,14.375,2.1289c1.8398,0.0586,2.499-1.2188,4.334-1.1582
                  c2.1689,0.0713,4.5049,1.209,6.666,1.2832c2.6699,0.0908,4.3398-0.916,6.998-0.8203c3.3379,0.1201,6.0566,1.3193,9.377,1.4453
                  c4.001,0.1514,4.7764-1.1602,8.75-1c3.1836,0.1289,16.834,1.9912,20,2.125c4.0059,0.1699,4.0029-0.9004,7.9814-0.7227
                  c6.8594,0.3076,7.9102,1.7656,14.6855,2.0977c8.916,0.4365,23.5254-0.2432,32.293,0.2344
                  c6.7168,0.3662,13.3896,0.7432,20.0186,1.1318C1458.8545,268.4941,1680,316.4209,1680,316.4209H0z" />
                    <path id="stone1" d="M680.3335,250.7549c7.3335,0.333,13.6665-1.2549,6-6.4609s-14.333-7.1221-18.6665,0.8359
                  S680.3335,250.7549,680.3335,250.7549z" />
                    <path id="stone2" d="M750.5,243.1709c3.25,0,2.5-3.707-1.75-4.2285s-5,3.7285-3,4.2285S750.5,243.1709,750.5,243.1709z" />
                    <path id="stone3" d="M988.4893,243.8242c2.8857,0.3467,4.8438,1.2627,3.0107-2.0703s-7.3955,1.3555-5.2031,1.7129
                  S988.4893,243.8242,988.4893,243.8242z" />
                    <path id="stone4" d="M697,248.9355c2.0142-0.2021,2.1665-2.0156,1-2.1816s-9.1543,1.8398-5.9937,2.6699S697,248.9355,697,248.9355z" />
                    <g id="greens" transform="translate(850, 180)">
                        <g>
                            <path d="M36.3877,59.4268C33.0576,18.9482,6.4658,4.522,6.4658,4.522s22.4834,16.1426,24.4414,54.2251
      C32.8657,96.8311,36.3877,59.4268,36.3877,59.4268z" />
                            <path d="M41.8496,83.1641C31.1572,43.98,2.3711,34.6738,2.3711,34.6738s25.063,11.7471,33.9668,48.8271
      C45.2441,120.5791,41.8496,83.1641,41.8496,83.1641z" />
                            <path d="M31.3955,60.7207C23.7139,25.7979,2.5381,16.9541,2.5381,16.9541s18.4165,10.9277,24.7925,43.9502
      C33.7061,93.9258,31.3955,60.7207,31.3955,60.7207z" />
                            <path d="M40.4517,62.0068C47.9473,21.6187,25.4009,0.1914,25.4009,0.1914s18.0098,21.9634,9.7896,59.6357
      C26.9722,97.499,40.4517,62.0068,40.4517,62.0068z" />
                            <path d="M41.9414,69.4316c13.0313-38.9565-6.3218-63.3062-6.3218-63.3062s14.7856,24.251,1.4141,60.4185
      C23.6621,102.709,41.9414,69.4316,41.9414,69.4316z" />
                            <path d="M29.4976,87.9092c27.4097-30.5938,19.2993-60.6226,19.2993-60.6226s3.958,28.1255-22.6606,56.0249
      C-0.4775,111.2109,29.4976,87.9092,29.4976,87.9092z" />
                            <animateTransform attributeName="transform" type="skewX" values="0;10;0" begin="0s" dur="5.5s" fill="freeze" repeatCount="indefinite" />
                            <animateMotion type="translate" values="0,0;-10,0;0,0" begin="0s" dur="5.5s" fill="freeze" repeatCount="indefinite" />
                        </g>
                        <g>
                            <path d="M34.9995,60.4189C56.0713,30.6665,46.1133,5.4014,46.1133,5.4014S52.2559,29.4746,31.6235,56.79
      C10.9917,84.1035,34.9995,60.4189,34.9995,60.4189z" />
                            <path d="M36.3047,64.5391c28.4629-23.4443,25.3262-51.189,25.3262-51.189s-0.293,25.4971-27.6851,46.6538
      C6.5552,81.1631,36.3047,64.5391,36.3047,64.5391z" />
                            <path d="M33.0449,70.502c31.4424-19.2637,32.1875-47.1748,32.1875-47.1748s-3.8291,25.208-33.897,42.3584
      C1.271,82.833,33.0449,70.502,33.0449,70.502z" />
                            <path d="M13.8237,76.0244c36.5039-5.2158,48.2563-30.543,48.2563-30.543S48.5693,67.1045,14.168,70.9248
      C-20.2324,74.749,13.8237,76.0244,13.8237,76.0244z" />
                            <animateTransform attributeName="transform" type="skewX" values="0;15;0" begin="0s" dur="5s" fill="freeze" repeatCount="indefinite" />
                            <animateMotion type="translate" values="0,0;-15,0;0,0" begin="0s" dur="5s" fill="freeze" repeatCount="indefinite" />
                        </g>
                    </g>
                    <g id="greens" transform="translate(700, 180)">
                        <g>
                            <path d="M36.3877,59.4268C33.0576,18.9482,6.4658,4.522,6.4658,4.522s22.4834,16.1426,24.4414,54.2251
      C32.8657,96.8311,36.3877,59.4268,36.3877,59.4268z" />
                            <path d="M41.8496,83.1641C31.1572,43.98,2.3711,34.6738,2.3711,34.6738s25.063,11.7471,33.9668,48.8271
      C45.2441,120.5791,41.8496,83.1641,41.8496,83.1641z" />
                            <path d="M31.3955,60.7207C23.7139,25.7979,2.5381,16.9541,2.5381,16.9541s18.4165,10.9277,24.7925,43.9502
      C33.7061,93.9258,31.3955,60.7207,31.3955,60.7207z" />
                            <path d="M40.4517,62.0068C47.9473,21.6187,25.4009,0.1914,25.4009,0.1914s18.0098,21.9634,9.7896,59.6357
      C26.9722,97.499,40.4517,62.0068,40.4517,62.0068z" />
                            <path d="M41.9414,69.4316c13.0313-38.9565-6.3218-63.3062-6.3218-63.3062s14.7856,24.251,1.4141,60.4185
      C23.6621,102.709,41.9414,69.4316,41.9414,69.4316z" />
                            <path d="M29.4976,87.9092c27.4097-30.5938,19.2993-60.6226,19.2993-60.6226s3.958,28.1255-22.6606,56.0249
      C-0.4775,111.2109,29.4976,87.9092,29.4976,87.9092z" />
                            <animateTransform attributeName="transform" type="skewX" values="0;10;0" begin="0s" dur="5.5s" fill="freeze" repeatCount="indefinite" />
                            <animateMotion type="translate" values="0,0;-10,0;0,0" begin="0s" dur="5.5s" fill="freeze" repeatCount="indefinite" />
                        </g>
                        <g>
                            <path d="M34.9995,60.4189C56.0713,30.6665,46.1133,5.4014,46.1133,5.4014S52.2559,29.4746,31.6235,56.79
      C10.9917,84.1035,34.9995,60.4189,34.9995,60.4189z" />
                            <path d="M36.3047,64.5391c28.4629-23.4443,25.3262-51.189,25.3262-51.189s-0.293,25.4971-27.6851,46.6538
      C6.5552,81.1631,36.3047,64.5391,36.3047,64.5391z" />
                            <path d="M33.0449,70.502c31.4424-19.2637,32.1875-47.1748,32.1875-47.1748s-3.8291,25.208-33.897,42.3584
      C1.271,82.833,33.0449,70.502,33.0449,70.502z" />
                            <path d="M13.8237,76.0244c36.5039-5.2158,48.2563-30.543,48.2563-30.543S48.5693,67.1045,14.168,70.9248
      C-20.2324,74.749,13.8237,76.0244,13.8237,76.0244z" />
                            <animateTransform attributeName="transform" type="skewX" values="0;15;0" begin="0s" dur="5s" fill="freeze" repeatCount="indefinite" />
                            <animateMotion type="translate" values="0,0;-15,0;0,0" begin="0s" dur="5s" fill="freeze" repeatCount="indefinite" />
                        </g>
                    </g>
                
                    <g id="boy_1_">
                        <g id="boy">
                            <path d="M800.7324,167.6929c0,0-7.9688-6.5039-9.7197-8.041c-1.751-1.5366-7.9331-6.5039-8.7197-13.0435
      c-0.7861-6.5396,6.0752-15.188,17.7969-16.1885c11.7207-1.0005,12.9727,1.0366,14.1514,2.7163
      c1.1787,1.6792,5.7178,11.1494,5.0752,18.6538c-0.6445,7.5049-5.6826,10.1133-9.7559,13.3652
      C805.4863,168.4072,800.7324,167.6929,800.7324,167.6929z" />
                            <path d="M810.7031,169.2109c-1.0723-1.3037-1.3574-2.9556-1.1426-4.0645c0.2139-1.1084-8.041,0.1128-8.8281,2.542
      c1.6445,1.6787,0.751,3.146-0.5,4.1108c-1.25,0.9648-1.6797,1.502-1.9297,1.8237c0.0361,0.5361,0,0.9653,0,0.9653
      s-1.4297,1.7153-2.2871,6.5396s-0.6787,6.79-0.9648,8.3267c-0.2852,1.5366-1.4648,5.9678-1.751,10.292s0,4.5742,0,4.5742
      s1.251,1.7153,1.1436,4.0742s-1.2705,5.6099-1.2705,5.6099s0.2344,1.8945,1.8779,2.252c1.6445,0.3574,2.3594-0.6436,2.3594-0.6436
      s1.0713,1.3223,1.75,4.0742c0.6797,2.752,0.6436,6.79,1.8945,7.9688c1.251,1.1797,1.6074,0.3223,1.6074,0.3223
      s0.4648,3.3975-0.9277,6.6855c-1.3945,3.2881-4.1465,6.7568-4.1465,6.7568h11.0781c0,0,1.5723-3.5234-7.1113-2.2363
      c3.252-4.0742,3.8955-6.1934,4.0391-11.125c1.8223,0.5,4.252,0.6738,4.9316-0.3271c0.5352,1.3223,2.4297,2.1787,3.3584,1.7139
      c-0.2139,3.7168-1.0713,12.1846-1.0713,12.1846l9.0049,0.2852c0,0-0.751-3.2168-6.29-1.4307
      c1.001-6.7891,1.3584-11.5068,1.3584-11.5068s1.3584,0.1074,1.8584-0.3926c0.5-0.501,0.6787-5.3252-0.4648-9.9346
      c-1.1436-4.6104-0.5-4.4678-0.5-4.4678s1.75-0.8213,1.5-2.8584s-0.8574-3.6807-1.5352-5.5391
      c0.4639-0.1074,1-0.7861-0.6797-2.7158c-0.2148-2.5015-0.9648-6.3242-0.6436-7.6465s0.2148-2.8232-0.1787-4.3599
      c0-2.4302,0.7148-13.1509-1.25-17.0103c-1.9658-3.8594-2.5371-3.5737-2.5371-3.5737S812.5977,169.0142,810.7031,169.2109z" />
                        </g>
                        <g transform="translate(783, 122)">
                            <g>
                                <path d="M35.3506,17.9644c2.9834-3.71,5.9824-15.2095-3.1846-18.3765c2.668,3.833,1.168,5.6665,1.168,5.6665
  S32,1.2549,28.666-0.4121c1.5,3.1665,0,5,0,5S20.5,8.9209,24.5,13.2544S35.3506,17.9644,35.3506,17.9644z" />


                                <animateTransform attributeName="transform" type="skewX" values="0;30;0" begin="0s" dur="4s" fill="freeze" repeatCount="indefinite" />
                                <animateMotion type="translate" values="0,0;-10,0;0,0" begin="0s" dur="4s" fill="freeze" repeatCount="indefinite" />
                            </g>
                            <g>
                                <path d="M27.125,6.2334c-1.8125-0.625-2.0625-1.9375-4.375-2.25c1,0.8125,1.125,1.6875,1.125,1.6875S21.5,4.3584,19.0625,3.9834
  c1.3125,0.75,2,1.875,2,1.875s-3.25-0.75-5.875-0.75c1.125,0.3125,1.125,0.6875,1.125,0.6875S10.75,5.8584,8.6875,7.4834
  c1,0.125,0.9375,0.6714,0.9375,0.6714s-4.25,1.5786-5.375,3.7661c0.875-0.4375-0.8125,1.8125-0.8125,1.8125s0.75,1.375-0.3125,1.125
  S0.5,14.1084,0.5,12.5459c-0.5,2.1875,0.6924,2.5767,1.4375,3.3125c-0.0625,1-0.9375,2.6494-1.25,2.106s0.8594,0.4282,0.0547,2.4731
  c-0.8047,2.0459-1.1533,3.7432-0.5103,6.5195s2.7056,4.5264,3.5181,6.2139s0.5-1.6875,0.5-1.6875L27.125,6.2334z" />
                            </g>
                        </g>
                    </g>
                              
                </svg>
               
            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
        crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
        <script>
            function getCookie(name) {
                let cookieValue = null;
                if (document.cookie && document.cookie !== '') {
                    const cookies = document.cookie.split(';');
                    for (let i = 0; i < cookies.length; i++) {
                        const cookie = cookies[i].trim();
                        if (cookie.substring(0, name.length + 1) === (name + '=')) {
                            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                            break;
                        }
                    }
                }
                return cookieValue;
            }
        
            const csrftoken = getCookie('csrftoken');
        
            var scoreProj;
            const showDetails = (prjID, prjTitle, prjDesc, prjVideo, prjPdf) => {
                console.log("Show Details", prjID, prjTitle, prjDesc, prjVideo);
                scoreProj = prjID;
                document.getElementById("exampleModalLabel").innerText = prjTitle;
                document.getElementById("modalPrjVideo").setAttribute("src", prjVideo);
                document.getElementById("modalPrjPdf").setAttribute("src", prjPdf);
                document.getElementById("modalPrjDesc").innerText = prjDesc;
                document.getElementById("pdfDownloadAnchor").setAttribute("href", prjPdf);
                document.getElementById("launchModal").click();
            };
            let b = document.querySelector('button');
            setTimeout(() => b.focus(), 100);
            setTimeout(() => b.blur(), 1000);
        
            const likePressed = async (prjID, noOfLikes) => {
                var likeNumberID = "numberOfLikes" + prjID;
                var requestOptions = {
                    'method': 'POST',
                    'headers': new Headers({
                        'X-CSRFToken': csrftoken,
                        'Content-Type': 'application/json',
                    }),
                    mode: 'same-origin',
                    body: JSON.stringify({
                        'prjID': prjID,
                    })
                };
                await fetch("/like", requestOptions)
                    .then(response => response.text())
                    .then(result => {
                        result = JSON.parse(result);
                        var likes = parseInt(noOfLikes);
                        if (result.isLiked && result.isSuccess) {
                            likes = likes + 1;
                            document.getElementById(likeNumberID).innerHTML = likes;
                        } else if (!result.isLiked && result.isSuccess) {
                            likes = likes - 1;
                            if (likes < 0)
                                likes = 0;
                            document.getElementById(likeNumberID).innerHTML = likes;
                        }
                    })
                    .catch(error => console.error('error', error));
        
            };
        
            {% if user.is_judge %}
                const giveScores = () => {
                    $('#exampleModal').modal('toggle');
                    document.getElementById("inputPrjID").value = scoreProj;
                    document.getElementById("launchModal2").click();
        
                };
                $('#exampleModal2').on('hidden.bs.modal', function () {
                    $('#exampleModal').modal('toggle');
                    document.getElementById("scoreSubmitSuccessMsg").style.display = 'none';
                    document.getElementById("scoreAlreadySubmittedMsg").style.display = 'none';
                });
        
                const markProjectScores = async () => {
                    var score = document.getElementById('inputScore').value;
                    console.log("#####", score);
                    var requestOptions = {
                        'method': 'POST',
                        'headers': new Headers({
                            'X-CSRFToken': csrftoken,
                            'Content-Type': 'application/json',
                        }),
                        mode: 'same-origin',
                        body: JSON.stringify({
                            'score': score,
                            'prjID': scoreProj,
                        })
                    };
                    await fetch("/score", requestOptions)
                        .then(response => response.text())
                        .then(result => {
                            result = JSON.parse(result);
                            if (result.isSuccess && !result.alreadySubmitted) {
                                document.getElementById("scoreSubmitSuccessMsg").style.display = 'block';
                            }
                            if (result.alreadySubmitted) {
                                document.getElementById("scoreAlreadySubmittedMsg").style.display = 'block';
                            }
                        })
                        .catch(error => console.error('error', error));
                };
            {% endif %}
        </script>
<script>
    window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame ||
  window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;

var starDensity = .216;
var speedCoeff = .05;
var width;
var height;
var starCount;
var circleRadius;
var circleCenter;
var first = true;
var giantColor = '180,184,240';
var starColor = '226,225,142';
var cometColor = '226,225,224';
var canva = document.getElementById('universe');
var stars = [];

windowResizeHandler();
window.addEventListener('resize', windowResizeHandler, false);

createUniverse();

function createUniverse() {
  universe = canva.getContext('2d');

  for (var i = 0; i < starCount; i++) {
    stars[i] = new Star();
    stars[i].reset();
  }

  draw();
}

function draw() {
  universe.clearRect(0, 0, width, height);

  var starsLength = stars.length;

  for (var i = 0; i < starsLength; i++) {
    var star = stars[i];
    star.move();
    star.fadeIn();
    star.fadeOut();
    star.draw();
  }

  window.requestAnimationFrame(draw);
}

function Star() {

  this.reset = function() {
    this.giant = getProbability(3);
    this.comet = this.giant || first ? false : getProbability(10);
    this.x = getRandInterval(0, width - 10);
    this.y = getRandInterval(0, height);
    this.r = getRandInterval(1.1, 2.6);
    this.dx = getRandInterval(speedCoeff, 6 * speedCoeff) + (this.comet + 1 - 1) * speedCoeff * getRandInterval(50, 120) + speedCoeff * 2;
    this.dy = -getRandInterval(speedCoeff, 6 * speedCoeff) - (this.comet + 1 - 1) * speedCoeff * getRandInterval(50, 120);
    this.fadingOut = null;
    this.fadingIn = true;
    this.opacity = 0;
    this.opacityTresh = getRandInterval(.2, 1 - (this.comet + 1 - 1) * .4);
    this.do = getRandInterval(0.0005, 0.002) + (this.comet + 1 - 1) * .001;
  };

  this.fadeIn = function() {
    if (this.fadingIn) {
      this.fadingIn = this.opacity > this.opacityTresh ? false : true;
      this.opacity += this.do;
    }
  };

  this.fadeOut = function() {
    if (this.fadingOut) {
      this.fadingOut = this.opacity < 0 ? false : true;
      this.opacity -= this.do / 2;
      if (this.x > width || this.y < 0) {
        this.fadingOut = false;
        this.reset();
      }
    }
  };

  this.draw = function() {
    universe.beginPath();

    if (this.giant) {
      universe.fillStyle = 'rgba(' + giantColor + ',' + this.opacity + ')';
      universe.arc(this.x, this.y, 2, 0, 2 * Math.PI, false);
    } else if (this.comet) {
      universe.fillStyle = 'rgba(' + cometColor + ',' + this.opacity + ')';
      universe.arc(this.x, this.y, 1.5, 0, 2 * Math.PI, false);

      //comet tail
      for (var i = 0; i < 30; i++) {
        universe.fillStyle = 'rgba(' + cometColor + ',' + (this.opacity - (this.opacity / 20) * i) + ')';
        universe.rect(this.x - this.dx / 4 * i, this.y - this.dy / 4 * i - 2, 2, 2);
        universe.fill();
      }
    } else {
      universe.fillStyle = 'rgba(' + starColor + ',' + this.opacity + ')';
      universe.rect(this.x, this.y, this.r, this.r);
    }

    universe.closePath();
    universe.fill();
  };

  this.move = function() {
    this.x += this.dx;
    this.y += this.dy;
    if (this.fadingOut === false) {
      this.reset();
    }
    if (this.x > width - (width / 4) || this.y < 0) {
      this.fadingOut = true;
    }
  };

  (function() {
    setTimeout(function() {
      first = false;
    }, 50)
  })()
}

function getProbability(percents) {
  return ((Math.floor(Math.random() * 1000) + 1) < percents * 10);
}

function getRandInterval(min, max) {
  return (Math.random() * (max - min) + min);
}

function windowResizeHandler() {
  width = window.innerWidth;
  height = window.innerHeight;
  starCount = width * starDensity;
  // console.log(starCount)
  circleRadius = (width > height ? height / 2 : width / 2);
  circleCenter = {
    x: width / 2,
    y: height / 2
  }

  canva.setAttribute('width', width);
  canva.setAttribute('height', height);
}

var Clock = (function() {
    var canvas,
        ctx,
        bgGrad = true,
        gradient, 
        height = 400,
        key = {
            up: false,
            shift: false
        }, 
        particles = [],
        // particleColor = 'hsla(0, 0%, 100%, 0.3)',
        mouse = {
            x: 0,
            y: 0
        }, 
        press = false, 
        quiver = true, 
        texts = ["Aarohan 2021 presents TechMela"],
        
        text = texts[0],
        textNum = 0,
        textSize = window.innerWidth/50, 
        valentine = false, 
        msgTime = 400, 
        updateColor = true, 
        width = window.innerWidth/2; 
    
    var FRAME_RATE = 60, 
        MIN_WIDTH = 0, 
        MIN_HEIGHT = 0, 
        PARTICLE_NUM = 3000, 
        RADIUS = Math.PI * 2; 

    var defaultStyles = function() {
        // textSize = 36;
        // particleColor = 'rgba(226,225,142, 0.7)';
    };

    var draw = function(p) {
        ctx.fillStyle = 'rgba(226,225,142, ' + p.opacity + ')';
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.size, 0, RADIUS, true);
        ctx.closePath();
        ctx.fill();
    };
    
    var loop = function() {
        
        ctx.clearRect(0, 0, width, height);
        // textSize = 36;

        ctx.fillStyle = "rgb(255, 255, 255)";
        ctx.textBaseline = "middle";
        ctx.font = textSize + "px 'Avenir', 'Helvetica Neue', 'Arial', 'sans-serif'";
        ctx.fillText(text, (width - ctx.measureText(text).width) * 0.3, height * 0.3);

        var imgData = ctx.getImageData(0, 0, width, height);
        
        ctx.clearRect(0, 0, width, height);

        for (var i = 0, l = particles.length; i < l; i++) {
            var p = particles[i];
            p.inText = false;
        }
        particleText(imgData);
    };

    var pad = function(number) {
        return ('0' + number).substr(-2);
    };

    var particleText = function(imgData) {
        var pxls = [];
        for (var w = width; w > 0; w -= 3) {
            for (var h = 0; h < width; h += 3) {
                var index = (w + h * (width)) * 4;
                if (imgData.data[index] > 1) {
                    pxls.push([w, h]);
                }
            }
        }

        var count = pxls.length;
        var j = parseInt((particles.length - pxls.length) / 2, 10)
        if (j < 0) {
            j = 0;
        }

        for (var i = 0; i < pxls.length && j < particles.length; i++, j++) {
            try {
                var p = particles[j],
                    X,
                    Y;

                if (quiver) { 
                    X = (pxls[count - 1][0]) - (p.px + Math.random() * 5);
                    Y = (pxls[count - 1][1]) - (p.py + Math.random() * 5);
                } else {
                    X = (pxls[count - 1][0]) - p.px;
                    Y = (pxls[count - 1][1]) - p.py;
                }
                var T = Math.sqrt(X * X + Y * Y);
                var A = Math.atan2(Y, X);
                var C = Math.cos(A);
                var S = Math.sin(A);
                p.x = p.px + C * T * p.delta;
                p.y = p.py + S * T * p.delta;
                p.px = p.x;
                p.py = p.y;
                p.inText = true;
                p.fadeIn();
                draw(p);
                if (key.up === true) {
                    p.size += 0.3;
                } else {
                    var newSize = p.size - 0.5;
                    if (newSize > p.origSize && newSize > 0) {
                        p.size = newSize;
                    } else {
                        p.size = m.origSize;
                    }
                }
            } catch (e) {
                
            }
            count--;
        }
        for (var i = 0; i < particles.length; i++) {
            var p = particles[i];
            if (!p.inText) {
                // p.px = p.mx;
                // p.py = p.my;
                // p.opacity = 1;
                p.fadeOut();

                var X = p.mx - p.px;
                Y = p.my - p.py;

                var T = Math.sqrt(X * X + Y * Y);

                var A = Math.atan2(Y, X);

                var C = Math.cos(A);

                var S = Math.sin(A);

                p.x = p.px + C * T * p.delta / 2;
                p.y = p.py + S * T * p.delta / 2;
                p.px = p.x;
                p.py = p.y;

                draw(p);
            }

        }

    };

    
    var setDimensions = function() {
        // width = window.innerWidth;
        // height = window.innerHeight;

        canvas.width = window.innerWidth >= 420 ? 420 : width;
        canvas.height = window.innerHeight >= 150 ? 150 : height;

        width = canvas.width;
        height = canvas.height;

        canvas.style.position = 'absolute';
        canvas.style.left = '0px';
        canvas.style.top = '0px';
        canvas.style.bottom = '0px';
        canvas.style.right = '0px';
        canvas.style.marginTop = window.innerHeight * .15 + 'px';
    };

    var setGradient = function(gradientStops) {

        
        gradient = ctx.createRadialGradient(width / 2, height / 2, 0, width / 2, height / 2, width);

        
        for (var position in gradientStops) {
            var color = gradientStops[position];
            gradient.addColorStop(position, color);
        }
    };

    /** 
     * Public Methods
     */
    return {
        init: function(canvasID) {
            canvas = document.getElementById(canvasID);
            if (canvas === null || !canvas.getContext) {
                return;
            }
            ctx = canvas.getContext("2d");
            setDimensions();
            this.event();

            for (var i = 0; i < PARTICLE_NUM; i++) {
                particles[i] = new Particle(canvas);
            }


            setInterval(loop, FRAME_RATE);
        },

        event: function() {
            var end = false;
            console.log(texts.length)
            document.addEventListener('click', function(e) {
                textNum++;
                if (textNum >= texts.length) {
                    textNum--;
                    end =true;
                    return;
                }
                text = texts[textNum];
                console.log(textNum)
            }, false);
        }
    };
})();


var Particle = function(canvas) {

    var range = Math.random() * 180 / Math.PI, 
        spread = canvas.height / 4, 
        size = Math.random() * 1.2; 

    this.delta = 0.15;
    this.x = 0;
    this.y = 0;
    
    this.px = (canvas.width / 2) + ((Math.random() - 0.5) * canvas.width);
    this.py = (canvas.height * 0.5) + ((Math.random() - 0.5) * spread);

    this.mx = this.px;
    this.my = this.py;

    this.velocityX = Math.floor(Math.random() * 10) - 5;
    this.velocityY = Math.floor(Math.random() * 10) - 5;

    this.size = size;
    this.origSize = size;

    this.inText = false;

    this.opacity = 0;
    this.do = 0.02;

    this.opacityTresh = 0.98
    this.fadingOut = true;
    this.fadingIn = true;
    this.fadeIn = function() {
        this.fadingIn = this.opacity > this.opacityTresh ? false : true;
        if (this.fadingIn) {
            this.opacity += this.do;
        }else{
            this.opacity = 1;
        }
    };

    this.fadeOut = function() {
        this.fadingOut = this.opacity < 0 ? false : true;
        if (this.fadingOut) {
            this.opacity -= 0.06;
            if(this.opacity<0){
                this.opacity = 0
            }
        }else{
            this.opacity = 0
        }
    };
};

setTimeout(function() {
    Clock.init('canvas');
}, 2000)

</script>
</body>

</html>
